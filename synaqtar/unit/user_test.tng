// user_test.tng - –ü–∞–π–¥–∞–ª–∞–Ω—É—à—ã –±—ñ—Ä–ª—ñ–∫ —Ç–µ—Å—Ç—Ç–µ—Ä—ñ
// Unit tests for user management

atqar user_test_jasau() -> TestSuite {
    jasau test_suite: TestSuite = test_suite_jasau("User Management Tests");
    qaytar test_suite;
}

// Test user creation
atqar test_user_jasau() -> aqƒ±qat {
    jasau test_data: JsonObject = json_object_create();
    json_object_set_string(test_data, "name", "Test User");
    json_object_set_string(test_data, "email", "test@example.com");
    json_object_set_string(test_data, "password", "password123");
    json_object_set_string(test_data, "role", "user");
    
    jasau result: JsonObject = paydalanu_tirkelu_jasau(
        json_object_get_string(test_data, "name"),
        json_object_get_string(test_data, "email"),
        json_object_get_string(test_data, "password"),
        json_object_get_string(test_data, "role")
    );
    
    e–≥–µ—Ä (json_object_get_boolean(result, "success")) {
        korset("‚úÖ User creation test passed");
        qaytar jan;
    } aitpese {
        korset("‚ùå User creation test failed");
        qaytar jin;
    }
}

// Test user authentication
atqar test_user_kimdik_tekseru() -> aqƒ±qat {
    jasau email: jol = "test@example.com";
    jasau password: jol = "password123";
    
    jasau result: JsonObject = paydalanu_kimdik_tekseru(email, password);
    
    e–≥–µ—Ä (json_object_get_boolean(result, "success")) {
        korset("‚úÖ User authentication test passed");
        qaytar jan;
    } aitpese {
        korset("‚ùå User authentication test failed");
        qaytar jin;
    }
}

// Test user validation
atqar test_user_tekseu() -> aqƒ±qat {
    jasau validation_result: JsonObject = paydalanu_tekseu_jasau(
        "Test User",
        "test@example.com",
        "password123"
    );
    
    e–≥–µ—Ä (json_object_get_boolean(validation_result, "valid")) {
        korset("‚úÖ User validation test passed");
        qaytar jan;
    } aitpese {
        korset("‚ùå User validation test failed");
        qaytar jin;
    }
}

// Run all user tests
atqar user_testlerin_ishke_engizu() {
    korset("üß™ –ü–∞–π–¥–∞–ª–∞–Ω—É—à—ã —Ç–µ—Å—Ç—Ç–µ—Ä—ñ–Ω —ñ—Å–∫–µ “õ–æ—Å—É...");
    
    jasau passed: san = 0;
    jasau total: san = 3;
    
    e–≥–µ—Ä (test_user_jasau()) {
        passed = passed + 1;
    }
    
    e–≥–µ—Ä (test_user_kimdik_tekseru()) {
        passed = passed + 1;
    }
    
    e–≥–µ—Ä (test_user_tekseu()) {
        passed = passed + 1;
    }
    
    korset("üìä –¢–µ—Å—Ç –Ω”ô—Ç–∏–∂–µ–ª–µ—Ä—ñ: " + passed + "/" + total + " ”©—Ç—Ç—ñ");
    
    e–≥–µ—Ä (passed == total) {
        korset("‚úÖ –ë–∞—Ä–ª—ã“õ –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã —Ç–µ—Å—Ç—Ç–µ—Ä—ñ —Å”ô—Ç—Ç—ñ ”©—Ç—Ç—ñ!");
    } aitpese {
        korset("‚ùå –ö–µ–π–±—ñ—Ä –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã —Ç–µ—Å—Ç—Ç–µ—Ä—ñ —Å”ô—Ç—Å—ñ–∑!");
    }
}

